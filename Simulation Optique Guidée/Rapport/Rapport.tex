\documentclass[a4paper,11pt]{report}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[francais]{babel}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage[colorlinks,linkcolor={blue!30!black},citecolor={blue!50!black},urlcolor={blue!80!black}]{hyperref}
\usepackage{amsmath,amsfonts,array,graphicx,caption,lmodern,subcaption,tikz,url,xspace,wrapfig}
\usepackage{textcomp,rotating,epic,eepic,pdfpages,pgfplots}
\usepackage[top=2cm,left=2.5cm,right=2.5cm,bottom=2cm]{geometry}
\usepackage[babel=true,kerning=true]{microtype}
\parskip=6pt % adds vertical space between paragraphs


\begin{document}

\include{0.Couverture}

\chapter*{Introduction}
\addcontentsline{toc}{chapter}{Introduction}

L'essor des télécommunications optiques n'est désormais plus à prouver. Omniprésentes dans la plupart des réseaux de télécommunication, les fibres optiques sont devenues incontournables. Elles sont d'autant plus intéressantes qu'il est possible de véhiculer plusieurs signaux à plusieurs longueurs d'ondes dans une seule et même fibre. \newline
Il est donc nécessaire de pouvoir séparer en fin de fibre les différents signaux, d'où l'utilisation de démultiplexeurs.

Le but de ce bureau d'étude est de simuler le fonctionnement d'un coupleur directionnel et de mesurer ses performances en démultiplexage de deux longueur d'ondes.

Nous mettrons en évidence les différents paramètres que l'on peut adapter pour modifier le fonctionnement du composant, tels que les indices effectifs $n_{eff}$, la distance entre les deux guides et la longueur du coupleur.
\newline
\indent Nous mesurerons enfin les performances du démultiplexeur, illustrées par l'isolation des deux bras aux longueurs d'ondes nominales de fonctionnement, ainsi que la tolérance en longueur d'onde du fonctionnement du dispositif et les effets de la courbure en entrée et sortie du coupleur.


\chapter{Étude théorique}

\section{Présentation du démultiplexeur}
\begin{figure}[h]
    \begin{center}
        \include{Images/schema_demux}
        \caption{Schéma de principe du démultiplexeur}
        \label{fig:}
    \end{center}
\end{figure}

Le dispositif du coupleur est constitué de deux guides linéaires de longueur \textbf{L}, espacés d'une distance \textbf{d}.
%Quatre bras en "S" permettent la connexion de ces deux guides aux fibres d'entrée et de sortie.
L'intégralité du signal provient d'un seul bras (haut-gauche), aux deux longueurs d'onde $\lambda_1$ et $\lambda_2$.

On souhaite que l'intégralité du signal à $\lambda_1$ sorte par le haut et le signal à $\lambda_2$, par le bas.

Ce problème peut alors être vu selon deux approches, que nous allons détailler.

\subsection{Approche perturbative}
Considérons un seul guide isolé. La puissance lumineuse se propage dans le guide, mais il existe une partie évanescente hors du guide.

Dans ce cas du guide isolé, on n'observe pas de pertes dues à cette partie évanescente.

Mais lorsqu'on rajoute le second guide, la partie évanescente est captée par ce guide, d'où l'apparition de puissance. La totalité de la puissance présente dans le premier guide sera transférée dans le second guide, qui va lui-même subir une perturbation par le premier guide.

On observe donc un couplage entre les deux guides, et la puissance dans chacun des guides suivra une loi sinusoïdale dans la direction de propagation.

Plus la distance d entre les deux guides est élevée, plus le transfert de puissance sera long : la partie évanescente captée par le second guide décroît en $e^{-d^2}$.

On peut donc déjà définir la longueur de couplage $L_c$, longueur nécessaire pour un transfert total de la puissance d'un guide à l'autre.

\subsection{Approche globale}%TODO nom à améliorer
Une autre approche consiste à considérer les deux guides comme une seule structure, et les modes pair et impair de propagation.

\subsubsection*{Considérons $\lambda_1$ (en vert).}
À l'entrée, les modes 1 et 2 sont en phase dans le guide supérieur (puissance maximale), et en opposition de phase dans le guide inférieur (pas de puissance).

Les deux modes ne sont pas soumis au même indice effectif $n_{eff}$, et ne se propagent donc pas à la même vitesse dans le dispositif. \newline
En $L_c$, on se retrouve donc dans la situation opposée :
\begin{itemize}
    \item Modes opposés dans le guide supérieur, et donc pas de puissance
    \item Modes en phase dans le guide inférieur, avec une puissance maximale.
\end{itemize}

On retrouve alors, comme dans la première approche, un couplage entre les deux guides, avec une puissance sinusoïdale dans les deux guides.

\subsubsection*{Dans le cas de $\lambda_2$ (en rouge),}
On retrouve exactement le même comportement ; $n_{eff}$ sera néanmoins différent, d'où une longueur de couplage ${L_c}_2$ différente.


L'approche perturbative est très bonne qualitativement, mais la seconde nous permettra d'étudier quantitativement le problème.

\subsection{Position du problème}
On veut alors qu'à la longueur d'onde 1, la puissance fasse $n$ aller-retours, tandis qu'à la longueur d'onde 2 elle fasse $m$ aller-retours puis retourne dans le second guide.

Le problème consiste alors à trouver :
\[
\left\{
    \begin{array}{ll}
        2n\times {L_c}_1 = (2m+1)\times {L_c}_2 = L_{totale}\\
        n, m\in \mathbb{N}
    \end{array}
\right.
\]

Nous voulons de plus caractériser la qualité du démultiplexeur par l'isolation des deux guides de sortie.
L'isolation à une longueur d'onde donnée est définie par :
\[
    \text{Isolation}(\lambda) = 10 \log\frac{P_{haut}(\lambda)}{P_{bas}(\lambda)}
\]
Où $P_3$ et $P_4$ sont respectivement les puissances sortant par le bras 3 et 4.

Cette formule nous donne des valeurs positives pour la longueur d'onde 1, et négatives pour la longueur d'onde 2.



\section{Calculs}%chiants
%calculs
\chapter{Dimensionnement}
Afin de pouvoir étudier correctement les comportements de la structure que l'on souhaite étudier, il est important de dimensionner les guides correctement.
\section{Epaisseur des guides}

Nous avons étudié la théorie dans la partie précédente, il faut maintenant la mettre en application afin de déterminer des paramètres de fonctionnement optimaux. Ainsi, dans toute la suite, nous utiliserons des longueurs d'onde de foncionnement $\lambda_1=1.55\mu m$ et $\lambda_2=1.31\mu m$, des indices valant $n_{sub}=n_{sup}=1.50$ et $n_{c}=1.51$ pour le substrat, le superstrat et le coeur du guide respectivement.

En utilisant la méthode de l'indice effectif, puis grâce à l'equation caractéristique :
\begin{equation}
    k_0e\sqrt{n_c^2-n_{eff}^2}-\arctan\left(\sqrt{\dfrac{n_{eff}^2-n_{sub}^2}{n_{c}^2-n_{eff}^2}}\right)-\arctan\left(\sqrt{\dfrac{n_{eff}^2-n_{sup}^2}{n_{c}^2-n_{eff}^2}}\right)=m\pi
\end{equation}

Avec $e$ l'épaisseur du guide, et $k_0=\dfrac{2\pi}{\lambda}$.

En considérant le minimum de l'indice effectif, on peut alors trouver une épaisseur de coupure pour le mode fondamental (m=0) et une épaisseur de coupure pour le mode suivant (m=1), et ce pour chacune des longueurs d'onde considérées.

Ainsi, on obtient, après résolution de l'équation caractéristique pour ces 4 cas : m=0 et m=1 pour $\lambda_1$ et $\lambda_2$, avec $n_{eff}=n_{sub}$ des valeurs limites pour l'épaisseur du guide. Parmis les valeurs possibles, nous avons choisi une épaisseur $e=3\mu m$ pour chacun des guides, qui sont ainsi monomodes pour les deux longueurs d'ondes que nous allons utiliser, ce qui est confirmé par le solveur de modes intégré au logiciel qui nous donne $n_{eff_{\lambda_1}}=1.5020053$ et $n_{eff_{\lambda_1}}=1.5032$, pour $e=3\mu m$.

\section{Longueur des guides}
On choisit de prendre une distance $d=3\mu m$ entre les guides. Grâce au solveur de modes, nous pouvons déterminer aisément les indices effectifs, en réalisant la structure telle que dans le Chapitre 1, en considérant l'aspect global.

\begin{tikzpicture}
    \draw (7.5,-0.5) node{$n_{sub}=1.50$}; 
    \draw [thick](0,0)--(15,0);
    \draw (7.5,0.5) node{$n_c=1.51$};
    \draw [thick](0,1)--(15,1);
    \draw (7.5,1.5) node{ $n_{sub}=1.50$};
    \draw [thick](0,2)--(15,2);
    \draw (7.5,2.5) node{$n_c=1.51$};
    \draw [thick](0,3)--(15,3);
    \draw (7.5,3.5) node{$n_{sub}=1.50$}; 
    \draw [->](2,2.5)--(4,2.5)node[midway,below]{Sens de propagation};
\end{tikzpicture} 

Le mode où les deux ondes portées par les guides sont en phase sera indicé $e$ et le le mode où ils sont en opposition de phase sera indicé $o$. Pour $\lambda_1=1.55\,\mu m$, le solveur nous donne $n_{eff1_e}=1.50574544$ et $n_{eff1_o}=1.5034626$. Pour $\lambda_2=1.31\,\mu m$, il nous donne $n_{eff2_e}=1.5062047$ et $n_{eff2_o}=1.5046940$.

On obtient alors pour $\lambda_1$, $L_{c_1}=437\,\mu m$ et pour $\lambda_2$, $L_{c_2}=661\,\mu m$. Ces longueurs de couplages nous donnent ainsi des ordres de grandeur afin de déterminer les longueurs de guide à utiliser pour réaliser le demultiplexeur.


\chapter{Simulation}
L'éditeur de script intégré dans OptiBPM nous permet de faire varier les caractéristiques de notre dispositif facilement, pour étudier leur impact sur les performances du démultiplexage.


\begin{figure}[h]
    \begin{center}
\begin{tikzpicture}
\begin{axis}[width=\textwidth,height=0.3\textwidth,
xmin=0, xmax=2560,
ymin=0, ymax=1,
minor x tick num=1,
xtick={0,300,...,2500},
xlabel={Longueur des guides ($\mu m$)},
ylabel={Puissance},
legend columns=-1,
legend entries={$\lambda_1$ ; bras bas, $\lambda_2$ ; bras haut},
legend style={/tikz/every even column/.append style={column sep=0.5cm},at={(1,0.5)}}
]
\addplot table[x=Z, y=LinearOutBot (Lambda1), col sep=comma, mark=none,smooth]{../Psortante.csv};
\addplot table[x=Z, y=LinearOutTop (Lambda2), col sep=comma, mark=none,smooth]{../Psortante.csv};
\end{axis}
\end{tikzpicture}
        \caption{}
        \label{fig:}
    \end{center}
\end{figure}

\section{Résultats de modélisation}
%Jolies images en 3D
\section{Validation des paramètres}
%Est-ce que c'est swag ou pas ?
\section{Calculs de puissance}
%Isolation et Pertes
\chapter*{Conclusion}
\addcontentsline{toc}{chapter}{Conclusion}

\appendix
\chapter{Scripts}
\section{Guide}
\section{Itérations}
\nocite{*}
\bibliographystyle{unsrt}
\bibliography{Biblio}


\end{document}
